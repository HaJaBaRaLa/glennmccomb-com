{"version":3,"sources":["_article-summary-hover.js","_expandable-code-blocks.js","_forms.js","_helpers.js","_links.js","_mobile-menu-toggle.js","_object-fit-polyfill.js","_table-of-contents.js","main.js"],"names":["ArticleSummaryHover","handleArticleSummaryHover","articles","article","Helpers","getViewportWidth","config","onlyRunAbove","isIE","document","querySelectorAll","i","length","addEventListener","processMouseMoveEvent","processMouseEnterEvent","processMouseLeaveEvent","e","rect","rectMouseXPercent","rectMouseYPercent","mouseX","pageX","mouseY","pageY","this","getBoundingClientRect","getMouseXPercent","getMouseYPercent","applyCSSTransforms","rectOffsetX","rectMouseX","left","width","toFixed","transformModX","scrollY","scrollPosY","rectOffsetY","rectMouseY","documentElement","scrollTop","top","height","transformModY","transformCSS","articleImage","imageTransformCSS","transformScale","style","transform","querySelector","classList","add","mouseOverToggleClass","remove","init","transformPerspective","ExpandableCodeBlocks","expandableCodeBlocks","expandClass","highlights","highlight","highlightWidth","code","codeWidth","offsetWidth","HandleForms","monitorInputs","inputs","forms","parentElement","checkValidity","monitorEmailInputs","emailInputs","value","monitorSelectInputs","fieldWrapper","selectInputs","handleContactFormSubmission","contactForm","preventDefault","form","action","nameField","emailField","messageField","buttonElem","name","email","message","requestString","requestUrl","encodeURI","request","XMLHttpRequest","open","onload","status","setTimeout","sendingDelay","reset","onerror","send","Math","max","clientWidth","window","innerWidth","test","navigator","userAgent","HandleLinks","handleExternalLinks","link","linkHref","links","linksLength","href","hostname","location","target","indexOf","ToggleMobileMenu","toggleMobileMenu","toggleSiteNav","siteNavOpenFlag","bodyElem","bodyElemClasses","className","siteNavToggle","ObjectFitPolyfill","objectFitPolyfill","testObjectFitSupport","applyObjectFitPolyfill","objectFitContainers","container","imageSource","picture","undefined","dataset","source","getAttribute","display","backgroundImage","TableOfContents","handleTableOfContents","toc","tocToggle","contains"],"mappings":"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","file":"main.min-291118e1.js","sourcesContent":["\n\n//\n//  TABLE OF CONTENTS\n//––––––––––––––––––––––––––––––––––––––––––––––––––\n\nvar ArticleSummaryHover = (function() {\n\n\n  //\n  //  CONFIG\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  var config = {\n    onlyRunAbove: 992,\n    transformModX: 1,\n    transformModY: 1.5,\n    transformPerspective: '600px',\n    // transformScale: 1.015,\n    transformScale: 1.01,\n\n    mouseOverToggleClass: '-is-being-hovered'\n  };\n\n\n  //\n  //  HANDLE TABLE OF CONTENTS\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  function handleArticleSummaryHover() {\n\n    // Declare variables.\n    var articles;\n    var article;\n    var w;\n\n    // Get viewport width.\n    w = Helpers.getViewportWidth();\n\n    // If viewport is wide enough.\n    if ( w >= config.onlyRunAbove ) {\n\n      // If this is NOT an old version of IE\n      if ( Helpers.isIE() == false ) {\n\n        // Get all article summaries.\n        articles = document.querySelectorAll('.article-summary');\n\n        // If there are article summaries.\n        if ( articles ) {\n\n          // Loop through all article summary tiles.\n          for ( var i = 0; i < articles.length; i++ ) {\n\n            // Make article variable more obvious.\n            article = articles[i];\n\n            // Listen for the mouse events.\n            // Move.\n            article.addEventListener('mousemove', processMouseMoveEvent);\n\n            // Enter.\n            article.addEventListener('mouseenter', processMouseEnterEvent);\n\n            // Leave.\n            article.addEventListener('mouseleave', processMouseLeaveEvent);\n\n          } // for ( var i = 0; i < articles.length; i++ )\n        } // if ( articles )\n      } // if ( Helpers.isIE() !== false )\n    } // if ( w >= config.onlyRunAbove )\n  } // handleArticleSummaryHover()\n\n\n  //\n  //  PROCESS MOUSE MOVE EVENT\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  function processMouseMoveEvent(e) {\n    \n    // Get mouse pos on document.\n    var article;\n    var mouseX = e.pageX;\n    var mouseY = e.pageY;\n    var rect;\n    var rectMouseXPercent;\n    var scrollPosY;\n    var rectMouseYPercent;\n    var transformCSS;\n\n    article = this;\n\n    // Get the dimensions of the article summary.\n    rect = this.getBoundingClientRect();\n\n    // Get the user's mouse position from left-to-right as a percentage.\n    rectMouseXPercent = getMouseXPercent( rect, mouseX );\n    // console.log( 'rectMouseXPercent: ' + rectMouseXPercent );\n\n    // Get the user's mouse position from top-to-bottom as a percentage.\n    rectMouseYPercent = getMouseYPercent( rect, mouseY );\n    // console.log( 'rectMouseYPercent: ' + rectMouseYPercent );\n\n    applyCSSTransforms( article, rect, rectMouseXPercent, rectMouseYPercent );\n\n  } // processMouseMoveEvent()\n\n\n  //\n  //  GET RECT MOUSE X %\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n  \n  function getMouseXPercent( rect, mouseX ) {\n\n    var rectOffsetX;\n    var rectMouseX;\n    var rectMouseXPercent;\n\n    // Get the position of the article summary from the left of viewport.\n    rectOffsetX = rect.left;\n\n    // This gives the mouse's position at the \n    // very left of the rectangle as zero.\n    rectMouseX = mouseX - rectOffsetX;\n\n    // What percentage from left to right has the user scrolled?\n    // This is a number 0 - 1.\n    rectMouseXPercent = rectMouseX / rect.width;\n\n    // Get the percentage to 2 decimal places.\n    rectMouseXPercent = rectMouseXPercent.toFixed(2);\n\n    // Instead of 0 to 1, make the number -0.5 to 0.5.\n    rectMouseXPercent = rectMouseXPercent - 0.5;\n\n    // Apply the transform modifier.\n    rectMouseXPercent = rectMouseXPercent * config.transformModX;\n\n    // Invert the effect.\n    // rectMouseXPercent = rectMouseXPercent * -1;\n\n    return rectMouseXPercent;\n  } // getMouseXPercent()\n\n\n  //\n  //  GET RECT MOUSE Y %\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  function getMouseYPercent( rect, mouseY, scrollY ) {\n\n    var scrollPosY;\n    var rectOffsetY;\n    var rectMouseY;\n    var rectMouseYPercent;\n\n    // Get Y scroll position.\n    scrollPosY = document.documentElement.scrollTop;\n\n    // Get the article summary's position from the top of the viewport.\n    rectOffsetY = scrollPosY + rect.top;\n\n    // Get the user's mouse position relative to the article summary.\n    // This gives 0 when the user is at the top of the element.\n    rectMouseY = mouseY - rectOffsetY;\n\n    // What percentage from top to bottom has the user scrolled?\n    // This is a number 0 - 1.\n    rectMouseYPercent = rectMouseY / rect.height;\n\n    // Get the percentage to 2 decimal places.\n    rectMouseYPercent = rectMouseYPercent.toFixed(2);\n\n    // Convert the number from 0 to 1 to be -0.5 to 0.5.\n    rectMouseYPercent = rectMouseYPercent - 0.5;\n\n    // Apply the transform modifier from the config object.\n    rectMouseYPercent = rectMouseYPercent * config.transformModY;\n\n    // Invert the effect.\n    rectMouseYPercent = rectMouseYPercent * -1;\n\n    return rectMouseYPercent;\n  } // getMouseYPercent()\n\n\n  //\n  //  APPLY CSS TRANSFORMS\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  function applyCSSTransforms( article, rect, rectMouseXPercent, rectMouseYPercent ) {\n\n    var transformCSS;\n    var articleImage;\n    var imageTransformCSS;\n\n    // If the transforms aren't too extreme.\n    if (\n      rectMouseXPercent > -(0.5 * config.transformModX) - 1 &&\n      rectMouseXPercent < (0.5 * config.transformModX) + 1 &&\n      rectMouseYPercent > -(0.5 * config.transformModY) - 1 &&\n      rectMouseYPercent < (0.5 * config.transformModY) + 1\n    ) {\n\n      // Build the transform CSS.\n      // transformCSS = 'perspective(' + config.transformPerspective + ') ';\n      transformCSS = 'perspective(' + (rect.width / 2) + 'px) ';\n      transformCSS += 'scale(' + config.transformScale + ') ';\n      transformCSS += 'rotateY(' + rectMouseXPercent + 'deg) ';\n      transformCSS += 'rotateX(' + rectMouseYPercent + 'deg)';\n\n      // Apply the transform CSS.\n      article.style.transform = transformCSS;\n    }\n\n\n    // Find the featured image.\n    articleImage = article.querySelector('.article-summary__featured-image');\n\n    // If there's an article image.\n    if ( articleImage ) {\n\n      // Build the image transform CSS.\n      imageTransformCSS = 'scale(1.025) ';\n\n      imageTransformCSS += 'translateX(' + (rectMouseXPercent * 8) * -1 + 'px) ';\n\n      imageTransformCSS += 'translateY(' + (rectMouseYPercent * 6) + 'px) ';\n\n      // Apply the image transform CSS.\n      articleImage.style.transform = imageTransformCSS;\n    }\n  } // applyCSSTransforms()\n\n\n  //\n  //  PROCESS MOUSE ENTER EVENT\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  function processMouseEnterEvent(e) {\n\n    this.classList.add( config.mouseOverToggleClass );\n\n  } // processMouseEnterEvent()\n\n\n  //\n  //  PROCESS MOUSE LEAVE EVENT\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  function processMouseLeaveEvent(e) {\n\n    // Remove transform effect.\n    this.style.transform = '';\n\n    // Remove transform effect from featured image.\n    this.querySelector('.article-summary__featured-image').style.transform = '';\n\n    this.classList.remove( config.mouseOverToggleClass );\n\n  } // processMouseLeaveEvent()\n\n\n  //\n  //  INIT\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  function init() {\n    handleArticleSummaryHover();\n  }\n\n  return {\n    init: init\n  };\n})();\n","\n\n//\n//  EXPANDABLE CODE BLOCKS\n//––––––––––––––––––––––––––––––––––––––––––––––––––\n\nvar ExpandableCodeBlocks = (function() {\n\n\n  //\n  //  EXPANDABLE CODE BLOCKS\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  function expandableCodeBlocks() {\n\n    var expandClass;\n\n    var highlights;\n    var highlight;\n    var highlightWidth;\n    var code;\n    var codeWidth;\n\n    expandClass = '-is-expandable';\n\n    // Get all highlight elements.\n    highlights = document.querySelectorAll('.highlight');\n\n    // If there are highlights.\n    if ( highlights ) {\n\n      // Loop through all highlights.\n      for ( var i = 0; i < highlights.length; i++ ) {\n\n        // Get the width of the highlight.\n        highlight = highlights[i];\n\n        highlightWidth = highlight.offsetWidth;\n\n        // Get the width of the child <code> element.\n        code = highlight.querySelector('code');\n\n        if ( code ) {\n          codeWidth = code.offsetWidth;\n        }\n\n        if ( highlightWidth && codeWidth ) {\n          if ( codeWidth > highlightWidth ) {\n            highlight.classList.add( expandClass );\n          }\n        }\n      } // for()\n    } // if ( highlights )\n  } // handleTableOfContents()\n\n\n  //\n  //  INIT\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  function init() {\n    expandableCodeBlocks();\n  }\n\n  return {\n    init: init\n  };\n})();\n","\n\n//\n//  FORMS\n//––––––––––––––––––––––––––––––––––––––––––––––––––\n\nvar HandleForms = (function() {\n\n\n  //\n  //  MONITOR INPUTS\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n  \n  function monitorInputs() {\n\n    // Get all inputs.\n    var inputs = document.querySelectorAll( 'input, select, textarea' );\n    var forms = document.querySelectorAll( '.form' );\n\n    var toggleClass = '-has-error';\n    var parentToggleClass = '-field-has-error';\n\n    // If there are inputs.\n    if ( inputs.length > 0 && forms.length > 0 ) {\n\n      // Loop through all inputs.\n      for ( var i = 0; i < inputs.length; i++ ) {\n\n        // Listen for the invalid event.\n        inputs[i].addEventListener('invalid', function(e) {\n\n          this.classList.add( toggleClass );\n          this.parentElement.classList.add( parentToggleClass );\n\n        });\n\n        // Listen for the blur event.\n        inputs[i].addEventListener('blur', function(e) {\n\n          this.checkValidity();\n\n        });\n      } // for ( var i = 0; i < inputs.length; i++ )\n\n    } // if ( inputs.length > 0 )\n\n  } // monitorInputs()\n\n\n  //\n  //  MONITOR EMAIL INPUTS\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  // Listen to email inputs and add \n  function monitorEmailInputs() {\n\n    // Get all email form fields.\n    var emailInputs = document.querySelectorAll('input[type=\"email\"]');\n\n    var toggleClass = '-has-text';\n\n    // If there are email inputs on the page.\n    if ( emailInputs.length > 0 ) {\n\n      // Loop through email fields.\n      for ( var i = 0; i < emailInputs.length; i++ ) {\n\n        // Listen for the input event.\n        emailInputs[i].addEventListener('input', function(e) {\n\n          // Get the input value.\n          var inputValue = this.value;\n\n          // If there's 1 or more characters.\n          if ( inputValue.length > 0 ) {\n\n            // Add the .has-text class.\n            this.classList.add( toggleClass );\n\n          // If there are no characters in the field.\n          } else {\n\n            // Remove the .has-text class.\n            this.classList.remove( toggleClass );\n          }\n        });\n      } // for ( var i = 0; i < emailInputs.length; i++ )\n    } // if ( emailInputs.length > 0 )\n\n  } // monitorEmailInputs()\n\n\n  //\n  //  MONITOR SELECTS\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  function monitorSelectInputs() {\n\n    // Get all select inputs.\n    var selectInputs = document.querySelectorAll('select');\n\n    var toggleClass = '-has-focus';\n\n    var fieldWrapper;\n\n    // If there are select inputs.\n    if ( selectInputs.length > 0 ) {\n\n      // Loop through form fields.\n      for ( var i = 0; i < selectInputs.length; i++ ) {\n        \n        // Focus event.\n        selectInputs[i].addEventListener('focus', function(e) {\n\n          fieldWrapper = this.parentElement;\n          \n          // Add the toggle class.\n          fieldWrapper.classList.add( toggleClass );\n\n        });\n\n        // Blur event.\n        selectInputs[i].addEventListener('blur', function(e) {\n\n          fieldWrapper = this.parentElement;\n          \n          // Remove the toggle class.\n          fieldWrapper.classList.remove( toggleClass );\n\n        });\n      } // for ( var i = 0; i < selectInputs.length; i++ )\n    } // if ( selectInputs.length > 0 )\n  } // monitorSelectInputs()\n\n\n  //\n  //  HANDLE CONTACT FORM SUBMISSION\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  function handleContactFormSubmission() {\n\n    // Toggle classes.\n    var sendingClass = '-is-sending';\n    var sentClass = '-is-sent';\n    var doneClass = '-is-done';\n    var thanksClass = '-is-thankful';\n\n    var sendingDelay = 1000;\n    \n    // Get contact form.\n    var contactForm = document.querySelector('.form__contact');\n\n    // If the contact form exists.\n    if ( contactForm !== null && contactForm.length > 0 ) {\n\n      // Listen for form submission event.\n      contactForm.addEventListener('submit', function(e) {\n\n        // Stop the form from submitting.\n        e.preventDefault();\n\n        // Get the form action.\n        var form = this;\n        var action = form.action;\n\n        // Get form fields.\n        var nameField = document.querySelector('.form__field-name');\n        var emailField = document.querySelector('.form__field-email');\n        var messageField = document.querySelector('.form__field-message');\n        var buttonElem = document.querySelector('.form__field-message');\n\n        // Get the form field values (name, email, message).\n        var name = nameField.value;\n        var email = emailField.value;\n        var message = messageField.value;\n        var button = buttonElem.value;\n\n        // Add the sending class.\n        form.classList.add( sendingClass );\n\n        // Put together the request string.\n        var requestString = '?form-name=contact';\n        requestString += '&name=' + name;\n        requestString += '&email=' + email;\n        requestString += '&message=' + message;\n\n        // Build the request URL.\n        var requestUrl = action + requestString;\n\n        // Encode the URL.\n        requestUrl = encodeURI(requestUrl);\n\n        // Create a new request.\n        var request = new XMLHttpRequest();\n\n        // Open the request.\n        request.open('POST', requestUrl, true);\n\n        // When the request is loaded.\n        request.onload = function() {\n\n          // If it was successful.\n          if (request.status >= 200 && request.status < 400) {\n\n            // console.log('Success');\n\n            setTimeout( function() {\n              form.classList.add( sentClass );\n            }, sendingDelay );\n\n            setTimeout( function() {\n              form.classList.add( doneClass );\n            }, sendingDelay * 2 );\n\n            setTimeout( function() {\n              form.classList.add( thanksClass );\n\n              // Empty fields.\n              nameField.value = '';\n              emailField.value = '';\n              messageField.value = '';\n\n              // Remove the -has-text class from email field.\n              emailField.classList.remove('-has-text');\n\n              // Reset the form.\n              form.reset();\n\n            }, sendingDelay * 3 );\n\n          // If the server was contacted but submissions was unsuccessful.\n          } else {\n            // console.log('Server was reached but it returned an error');\n          }\n        };\n\n        // Handle errors.\n        request.onerror = function() {\n          // console.log('There was a connection error of some sort.');\n        };\n\n        // Send the request.\n        request.send();\n\n      }); // contactForm.addEventListener('submit', function(e)\n    } // if ( contactForm.length > 0 )\n  } // handleContactFormSubmission()\n\n\n  //\n  //  INIT\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  function init() {\n    monitorInputs();\n    monitorEmailInputs();\n    monitorSelectInputs();\n    handleContactFormSubmission();\n  }\n\n\n  //\n  //  RETURN\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  return {\n    init: init\n  };\n\n})();","\n\n//\n//  HELPERS\n//––––––––––––––––––––––––––––––––––––––––––––––––––\n\nvar Helpers = (function() {\n\n\n  //\n  //  GET VIEWPORT WIDTH\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  function getViewportWidth() {\n\n    var w = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n    return w;\n\n  } // handleTableOfContents()\n\n\n  //\n  //  CHECK IE VERSION\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  function isIE () {\n    \n    // // OLD CODE TO DETECT IE 10 AND UNDER.\n    // var myNav = navigator.userAgent.toLowerCase();\n    // return (myNav.indexOf('msie') != -1) ? parseInt(myNav.split('msie')[1]) : false;\n\n    var isIE = false;\n\n    if (/MSIE 10/i.test(navigator.userAgent)) {\n       // This is internet explorer 10\n       isIE = 10;\n    }\n\n    if (/MSIE 9/i.test(navigator.userAgent) || /rv:11.0/i.test(navigator.userAgent)) {\n        // This is internet explorer 9 or 11\n        isIE = 11;\n    }\n\n    if (/Edge\\/\\d./i.test(navigator.userAgent)){\n       isIE = 'edge';\n    }\n\n    return isIE;\n  }\n\n\n  //\n  //  INIT\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  function init() {\n    // getViewportWidth();\n  }\n\n  return {\n    // init: init,\n    getViewportWidth: getViewportWidth,\n    isIE: isIE\n  };\n})();\n","\n\n//\n//  OPEN EXTERNAL LINKS IN NEW TAB\n//––––––––––––––––––––––––––––––––––––––––––––––––––\n\nvar HandleLinks = (function() {\n\n\n  //\n  //  HANDLE EXTERNAL LINKS\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  function handleExternalLinks() {\n\n    // document.addEventListener('DOMContentLoaded', function() {\n\n      // Variables.\n      var links = document.links;\n      var link;\n      var linkHref;\n\n      // Loop through all links.\n      for (var i = 0, linksLength = links.length; i < linksLength; i++) {\n\n        link = links[i];\n\n        linkHref = link.href;\n\n        // If the link is to an external site or a javascript:void(0);.\n        if (\n          link.hostname != window.location.hostname &&\n          linkHref !== 'javascript:void(0)' &&\n          linkHref !== 'javascript:void(0);'\n        ) {\n\n          // Set the target of the link to _blank.\n          link.target = '_blank';\n\n        // If the link contains a #.\n        } else if ( linkHref.indexOf('#') >= 0 ) {\n\n          // Listen for clicks.\n          // link.addEventListener('click', handleLinkClicks);\n        }\n      }\n    // }, false);\n  } // handleExternalLinks()\n\n\n  //\n  //  HANDLE LINK CLICKS\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  function handleLinkClicks(e) {\n\n    // Get the links href attribute.\n    var linkHref = this.href;\n\n    // Get the links anchor from the linkHref.\n    var linkAnchor = getAnchor( linkHref );\n\n    // Get the link elem.\n    var linkElem = document.querySelector( linkAnchor );\n\n    // Scroll to the anchor.\n    linkElem.scrollIntoView({\n      behavior: 'smooth',\n      block: 'start'\n    });\n  }\n\n\n  //\n  //  GET ANCHOR\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  function getAnchor( linkHref ) {\n\n    // Instantiate variables.\n    var length;\n    var anchorIndex;\n    var anchor;\n\n    // Get link href length.\n    length = linkHref.length;\n\n    // Get anchor index.\n    anchorIndex = linkHref.indexOf('#');\n\n    // Get everthing from the href element from the hash onwards.\n    anchor = linkHref.substring( anchorIndex, length);\n\n    // Return the anchor.\n    return anchor;\n\n  } // getAnchor()\n\n\n  //\n  //  INIT\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  function init() {\n    handleExternalLinks();\n  }\n\n  return {\n    init: init\n  };\n})();","\n\n//\n//  TOGGLE MOBILE MENU\n//––––––––––––––––––––––––––––––––––––––––––––––––––\n\nvar ToggleMobileMenu = (function() {\n\n\n  //\n  //  TOGGLE MOBILE MENU\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  function toggleMobileMenu() {\n\n    var siteNavToggle = document.querySelector('.site-nav__nav-toggle');\n\n    // If the site nav toggle exists.\n    if ( siteNavToggle ) {\n\n      // Listen for clicks on the menu toggle.\n      siteNavToggle.addEventListener('click', toggleSiteNav, false);\n    }\n\n    function toggleSiteNav() {\n\n      var siteNavOpenClass = 'site-nav-is-open';\n      var siteNavOpenFlag = false;\n\n      var bodyElem = document.querySelector('body');\n      var bodyElemClasses = bodyElem.classList;\n\n      // Loop though all classes on the body element.\n      for (var i = 0; i < bodyElemClasses.length; i++) {\n        \n        // If the menu open class is on the body.\n        if ( bodyElemClasses[i] == siteNavOpenClass ) {\n          siteNavOpenFlag = true;\n          break;\n        }\n      }\n\n      // If the menu is open.\n      if ( siteNavOpenFlag ) {\n\n        // Close the menu.\n        bodyElem.classList.remove(siteNavOpenClass);\n        // console.log('Mobile menu was closed.');\n\n      // If the menu is closed.\n      } else {\n\n        // Open the menu.\n        bodyElem.className += ' ' + siteNavOpenClass;\n        // console.log('Mobile menu was opened.');\n      }\n    }\n  }\n\n\n  //\n  //  INIT\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  function init() {\n    toggleMobileMenu();\n  }\n\n\n  //\n  //  RETURN\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  return {\n    init: init\n  };\n\n})();","\n\n//\n//  OBJECT FIT POLYFILL\n//––––––––––––––––––––––––––––––––––––––––––––––––––\n\nvar ObjectFitPolyfill = (function() {\n\n\n  //\n  //  OBJECT FIT POLYFILL\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  function objectFitPolyfill() {\n\n    // Check if object-fit is supported.\n    var needsPolyfill = testObjectFitSupport();\n\n    // If the object-fit polyfill is required.\n    if ( needsPolyfill ) {\n\n      // Apply object-fit polyfill.\n      applyObjectFitPolyfill();\n\n    }\n  } // handleTableOfContents()\n\n\n  //\n  //  TEST OBJECT FIT SUPPORT\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  function testObjectFitSupport() {\n\n    var needsPolyfill;\n\n    if ( 'objectFit' in document.documentElement.style === false ) {\n      needsPolyfill = true;\n\n    } else {\n      needsPolyfill = false;\n    }\n\n    return needsPolyfill;\n  }\n\n\n  //\n  //  APPLY OBJECT FIT POLYFILL\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  function applyObjectFitPolyfill() {\n\n    var objectFitContainers;\n    var container;\n    var imageSource;\n    var picture;\n\n    // Find all object fit containers.\n    objectFitContainers = document.querySelectorAll('.-is-object-fit-parent');\n\n    // If there are object fit containers.\n    if ( objectFitContainers ) {\n\n      // Loop through containers.\n      for (var i = 0; i < objectFitContainers.length; i++) {\n\n        // Instantiate container as variable for convenience.\n        container = objectFitContainers[i];\n\n        // console.log( 'container' );\n        // console.log( container );\n\n        // Get picture element.\n        picture = container.querySelector('.-uses-object-fit');\n\n        // console.log( 'picture' );\n        // console.log( picture );\n\n        // If dataset is available.\n        if ( picture.dataset !== undefined ) {\n\n          // Get image source.\n          imageSource = picture.dataset.source;\n\n        // For IE.\n        } else {\n\n          imageSource = picture.getAttribute('data-source');\n        }\n\n\n        // If there's no image source.\n        // if ( ! imageSource ) {\n        // }\n\n        // console.log( 'imageSource' );\n        // console.log( imageSource );\n\n\n        // Hide picture element.\n        picture.style.display = 'none';\n\n        // Apply the background image to the container.\n        container.style.backgroundImage = 'url(' + imageSource + ')';\n      }\n    }\n  }\n  \n\n\n  //\n  //  INIT\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  function init() {\n    objectFitPolyfill();\n  }\n\n  return {\n    init: init\n  };\n})();\n","\n\n//\n//  TABLE OF CONTENTS\n//––––––––––––––––––––––––––––––––––––––––––––––––––\n\nvar TableOfContents = (function() {\n\n\n  //\n  //  HANDLE TABLE OF CONTENTS\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  function handleTableOfContents() {\n\n    // console.log('handleTableOfContents()');\n\n    // Variables.\n    var toc = document.querySelector('.table-of-contents');\n    var tocToggle = document.querySelector('.table-of-contents__toggle');\n    var tocToggleClass = '-is-expanded';\n\n    // If the ToC toggle exists on the page.\n    if ( tocToggle ) {\n\n      // Listen for clicks on the ToC toggle.\n      tocToggle.addEventListener('click', function(e){\n        \n        // If the ToC is expanded.\n        if ( toc.classList.contains( tocToggleClass ) ) {\n          toc.classList.remove( tocToggleClass );\n\n        // If the ToC is not expanded.\n        } else {\n          toc.classList.add( tocToggleClass );\n        }\n      });\n    } // if ( tocToggle.length > 0 )\n  } // handleTableOfContents()\n\n\n  //\n  //  INIT\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  function init() {\n    handleTableOfContents();\n  }\n\n  return {\n    init: init\n  };\n})();\n","\n\n//\n//  JAVASCRIPT\n//––––––––––––––––––––––––––––––––––––––––––––––––––\n\n(function() {\n\n  ToggleMobileMenu.init();\n  HandleLinks.init();\n  HandleForms.init();\n  TableOfContents.init();\n  ArticleSummaryHover.init();\n  ObjectFitPolyfill.init();\n  ExpandableCodeBlocks.init();\n  \n})();\n"]}