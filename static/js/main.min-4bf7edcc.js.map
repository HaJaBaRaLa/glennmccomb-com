{"version":3,"sources":["_article-summary-hover.js","_external-links.js","_forms.js","_helpers.js","_mobile-menu-toggle.js","_table-of-contents.js","main.js"],"names":["ArticleSummaryHover","handleArticleSummaryHover","articles","article","Helpers","getViewportWidth","config","onlyRunAbove","document","querySelectorAll","i","length","addEventListener","processMouseMoveEvent","processMouseEnterEvent","processMouseLeaveEvent","e","rect","rectMouseXPercent","rectMouseYPercent","mouseX","pageX","mouseY","pageY","this","getBoundingClientRect","getMouseXPercent","getMouseYPercent","applyCSSTransforms","rectOffsetX","rectMouseX","left","width","toFixed","transformModX","scrollY","scrollPosY","rectOffsetY","rectMouseY","documentElement","scrollTop","top","height","transformModY","transformCSS","articleImage","imageTransformCSS","transformScale","style","transform","querySelector","classList","add","mouseOverToggleClass","remove","init","transformPerspective","ExternalLinks","handleExternalLinks","links","linksLength","hostname","window","location","target","HandleForms","monitorInputs","inputs","forms","parentElement","checkValidity","monitorEmailInputs","emailInputs","value","monitorSelectInputs","fieldWrapper","selectInputs","handleContactFormSubmission","contactForm","preventDefault","form","action","nameField","emailField","messageField","buttonElem","name","email","message","requestString","requestUrl","encodeURI","request","XMLHttpRequest","open","onload","status","setTimeout","sendingDelay","onerror","send","Math","max","clientWidth","innerWidth","ToggleMobileMenu","toggleMobileMenu","toggleSiteNav","siteNavOpenFlag","bodyElem","bodyElemClasses","className","siteNavToggle","TableOfContents","handleTableOfContents","toc","tocToggle","contains"],"mappings":"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","file":"main.min-4bf7edcc.js","sourcesContent":["\n\n//\n//  TABLE OF CONTENTS\n//––––––––––––––––––––––––––––––––––––––––––––––––––\n\nvar ArticleSummaryHover = (function() {\n\n\n  //\n  //  CONFIG\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  var config = {\n    onlyRunAbove: 1024,\n    transformModX: 1.25,\n    transformModY: 2,\n    transformPerspective: '600px',\n    // transformScale: 1.015,\n    transformScale: 1.02,\n\n    mouseOverToggleClass: '-is-being-hovered'\n  };\n\n\n  //\n  //  HANDLE TABLE OF CONTENTS\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  function handleArticleSummaryHover() {\n\n    // Declare variables.\n    var articles;\n    var article;\n    var w;\n\n    // Get viewport width.\n    w = Helpers.getViewportWidth();\n\n    if ( w >= config.onlyRunAbove ) {\n\n      // Get all article summaries.\n      articles = document.querySelectorAll('.article-summary');\n\n      // If there are article summaries.\n      if ( articles ) {\n\n        // Loop through all article summary tiles.\n        for ( var i = 0; i < articles.length; i++ ) {\n\n          // Make article variable more obvious.\n          article = articles[i];\n\n          // Listen for the mouse events.\n          // Move.\n          article.addEventListener('mousemove', processMouseMoveEvent);\n\n          // Enter.\n          article.addEventListener('mouseenter', processMouseEnterEvent);\n\n          // Leave.\n          article.addEventListener('mouseleave', processMouseLeaveEvent);\n\n        } // for ( var i = 0; i < articles.length; i++ )\n      } // if ( articles )\n    } // if ( w >= config.onlyRunAbove )\n  } // handleArticleSummaryHover()\n\n\n  //\n  //  PROCESS MOUSE MOVE EVENT\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  function processMouseMoveEvent(e) {\n    \n    // Get mouse pos on document.\n    var article;\n    var mouseX = e.pageX;\n    var mouseY = e.pageY;\n    var rect;\n    var rectMouseXPercent;\n    var scrollPosY;\n    var rectMouseYPercent;\n    var transformCSS;\n\n    article = this;\n\n    // Get the dimensions of the article summary.\n    rect = this.getBoundingClientRect();\n\n    // Get the user's mouse position from left-to-right as a percentage.\n    rectMouseXPercent = getMouseXPercent( rect, mouseX );\n    // console.log( 'rectMouseXPercent: ' + rectMouseXPercent );\n\n    // Get the user's mouse position from top-to-bottom as a percentage.\n    rectMouseYPercent = getMouseYPercent( rect, mouseY );\n    // console.log( 'rectMouseYPercent: ' + rectMouseYPercent );\n\n    applyCSSTransforms( article, rect, rectMouseXPercent, rectMouseYPercent );\n\n  } // processMouseMoveEvent()\n\n\n  //\n  //  GET RECT MOUSE X %\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n  \n  function getMouseXPercent( rect, mouseX ) {\n\n    var rectOffsetX;\n    var rectMouseX;\n    var rectMouseXPercent;\n\n    // Get the position of the article summary from the left of viewport.\n    rectOffsetX = rect.left;\n\n    // This gives the mouse's position at the \n    // very left of the rectangle as zero.\n    rectMouseX = mouseX - rectOffsetX;\n\n    // What percentage from left to right has the user scrolled?\n    // This is a number 0 - 1.\n    rectMouseXPercent = rectMouseX / rect.width;\n\n    // Get the percentage to 2 decimal places.\n    rectMouseXPercent = rectMouseXPercent.toFixed(2);\n\n    // Instead of 0 to 1, make the number -0.5 to 0.5.\n    rectMouseXPercent = rectMouseXPercent - 0.5;\n\n    // Apply the transform modifier.\n    rectMouseXPercent = rectMouseXPercent * config.transformModX;\n\n    // Invert the effect.\n    // rectMouseXPercent = rectMouseXPercent * -1;\n\n    return rectMouseXPercent;\n  } // getMouseXPercent()\n\n\n  //\n  //  GET RECT MOUSE Y %\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  function getMouseYPercent( rect, mouseY, scrollY ) {\n\n    var scrollPosY;\n    var rectOffsetY;\n    var rectMouseY;\n    var rectMouseYPercent;\n\n    // Get Y scroll position.\n    scrollPosY = document.documentElement.scrollTop;\n\n    // Get the article summary's position from the top of the viewport.\n    rectOffsetY = scrollPosY + rect.top;\n\n    // Get the user's mouse position relative to the article summary.\n    // This gives 0 when the user is at the top of the element.\n    rectMouseY = mouseY - rectOffsetY;\n\n    // What percentage from top to bottom has the user scrolled?\n    // This is a number 0 - 1.\n    rectMouseYPercent = rectMouseY / rect.height;\n\n    // Get the percentage to 2 decimal places.\n    rectMouseYPercent = rectMouseYPercent.toFixed(2);\n\n    // Convert the number from 0 to 1 to be -0.5 to 0.5.\n    rectMouseYPercent = rectMouseYPercent - 0.5;\n\n    // Apply the transform modifier from the config object.\n    rectMouseYPercent = rectMouseYPercent * config.transformModY;\n\n    // Invert the effect.\n    rectMouseYPercent = rectMouseYPercent * -1;\n\n    return rectMouseYPercent;\n  } // getMouseYPercent()\n\n\n  //\n  //  APPLY CSS TRANSFORMS\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  function applyCSSTransforms( article, rect, rectMouseXPercent, rectMouseYPercent ) {\n\n    var transformCSS;\n    var articleImage;\n    var imageTransformCSS;\n\n    // If the transforms aren't too extreme.\n    if (\n      rectMouseXPercent > -(0.5 * config.transformModX) - 1 &&\n      rectMouseXPercent < (0.5 * config.transformModX) + 1 &&\n      rectMouseYPercent > -(0.5 * config.transformModY) - 1 &&\n      rectMouseYPercent < (0.5 * config.transformModY) + 1\n    ) {\n\n      // Build the transform CSS.\n      // transformCSS = 'perspective(' + config.transformPerspective + ') ';\n      transformCSS = 'perspective(' + (rect.width / 2) + 'px) ';\n      transformCSS += 'scale(' + config.transformScale + ') ';\n      transformCSS += 'rotateY(' + rectMouseXPercent + 'deg) ';\n      transformCSS += 'rotateX(' + rectMouseYPercent + 'deg)';\n\n      // Apply the transform CSS.\n      article.style.transform = transformCSS;\n    }\n\n\n    // Find the featured image.\n    articleImage = article.querySelector('.article-summary__featured-image');\n\n    // If there's an article image.\n    if ( articleImage ) {\n\n      // Build the image transform CSS.\n      imageTransformCSS = 'scale(1.025) ';\n\n      imageTransformCSS += 'translateX(' + (rectMouseXPercent * 8) * -1 + 'px) ';\n\n      imageTransformCSS += 'translateY(' + (rectMouseYPercent * 6) + 'px) ';\n\n      // Apply the image transform CSS.\n      articleImage.style.transform = imageTransformCSS;\n    }\n  } // applyCSSTransforms()\n\n\n  //\n  //  PROCESS MOUSE ENTER EVENT\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  function processMouseEnterEvent(e) {\n\n    this.classList.add( config.mouseOverToggleClass );\n\n  } // processMouseEnterEvent()\n\n\n  //\n  //  PROCESS MOUSE LEAVE EVENT\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  function processMouseLeaveEvent(e) {\n\n    // Remove transform effect.\n    this.style.transform = '';\n\n    this.classList.remove( config.mouseOverToggleClass );\n\n  } // processMouseLeaveEvent()\n\n\n  //\n  //  INIT\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  function init() {\n    handleArticleSummaryHover();\n  }\n\n  return {\n    init: init\n  };\n})();\n","\n\n//\n//  OPEN EXTERNAL LINKS IN NEW TAB\n//––––––––––––––––––––––––––––––––––––––––––––––––––\n\nvar ExternalLinks = (function() {\n\n\n  //\n  //  HANDLE EXTERNAL LINKS\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  function handleExternalLinks() {\n\n    // Variables.\n    var links = document.links;\n\n    // Loop through all links.\n    for (var i = 0, linksLength = links.length; i < linksLength; i++) {\n\n      // If the link is to an external site.\n      if (links[i].hostname != window.location.hostname) {\n\n        // Set the target of the link to _blank.\n        links[i].target = '_blank';\n      } \n    }\n  }\n\n\n  //\n  //  INIT\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  function init() {\n    handleExternalLinks();\n  }\n\n  return {\n    init: init\n  };\n})();","\n\n//\n//  FORMS\n//––––––––––––––––––––––––––––––––––––––––––––––––––\n\nvar HandleForms = (function() {\n\n\n  //\n  //  MONITOR INPUTS\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n  \n  function monitorInputs() {\n\n    // Get all inputs.\n    var inputs = document.querySelectorAll( 'input, select, textarea' );\n    var forms = document.querySelectorAll( '.form' );\n\n    var toggleClass = '-has-error';\n    var parentToggleClass = '-field-has-error';\n\n    // If there are inputs.\n    if ( inputs.length > 0 && forms.length > 0 ) {\n\n      // Loop through all inputs.\n      for ( var i = 0; i < inputs.length; i++ ) {\n\n        // Listen for the invalid event.\n        inputs[i].addEventListener('invalid', function(e) {\n\n          this.classList.add( toggleClass );\n          this.parentElement.classList.add( parentToggleClass );\n\n        });\n\n        // Listen for the blur event.\n        inputs[i].addEventListener('blur', function(e) {\n\n          this.checkValidity();\n\n        });\n      } // for ( var i = 0; i < inputs.length; i++ )\n\n    } // if ( inputs.length > 0 )\n\n  } // monitorInputs()\n\n\n  //\n  //  MONITOR EMAIL INPUTS\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  // Listen to email inputs and add \n  function monitorEmailInputs() {\n\n    // Get all email form fields.\n    var emailInputs = document.querySelectorAll('input[type=\"email\"]');\n\n    var toggleClass = '-has-text';\n\n    // If there are email inputs on the page.\n    if ( emailInputs.length > 0 ) {\n\n      // Loop through email fields.\n      for ( var i = 0; i < emailInputs.length; i++ ) {\n\n        // Listen for the input event.\n        emailInputs[i].addEventListener('input', function(e) {\n\n          // Get the input value.\n          var inputValue = this.value;\n\n          // If there's 1 or more characters.\n          if ( inputValue.length > 0 ) {\n\n            // Add the .has-text class.\n            this.classList.add( toggleClass );\n\n          // If there are no characters in the field.\n          } else {\n\n            // Remove the .has-text class.\n            this.classList.remove( toggleClass );\n          }\n        });\n      } // for ( var i = 0; i < emailInputs.length; i++ )\n    } // if ( emailInputs.length > 0 )\n\n  } // monitorEmailInputs()\n\n\n  //\n  //  MONITOR SELECTS\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  function monitorSelectInputs() {\n\n    // Get all select inputs.\n    var selectInputs = document.querySelectorAll('select');\n\n    var toggleClass = '-has-focus';\n\n    var fieldWrapper;\n\n    // If there are select inputs.\n    if ( selectInputs.length > 0 ) {\n\n      // Loop through form fields.\n      for ( var i = 0; i < selectInputs.length; i++ ) {\n        \n        // Focus event.\n        selectInputs[i].addEventListener('focus', function(e) {\n\n          fieldWrapper = this.parentElement;\n          \n          // Add the toggle class.\n          fieldWrapper.classList.add( toggleClass );\n\n        });\n\n        // Blur event.\n        selectInputs[i].addEventListener('blur', function(e) {\n\n          fieldWrapper = this.parentElement;\n          \n          // Remove the toggle class.\n          fieldWrapper.classList.remove( toggleClass );\n\n        });\n      } // for ( var i = 0; i < selectInputs.length; i++ )\n    } // if ( selectInputs.length > 0 )\n  } // monitorSelectInputs()\n\n\n  //\n  //  HANDLE CONTACT FORM SUBMISSION\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  function handleContactFormSubmission() {\n\n    // Toggle classes.\n    var sendingClass = '-is-sending';\n    var sentClass = '-is-sent';\n    var doneClass = '-is-done';\n    var thanksClass = '-is-thankful';\n\n    var sendingDelay = 1000;\n    \n    // Get contact form.\n    var contactForm = document.querySelector('.form__contact');\n\n    // If the contact form exists.\n    if ( contactForm !== null && contactForm.length > 0 ) {\n\n      // Listen for form submission event.\n      contactForm.addEventListener('submit', function(e) {\n\n        // Stop the form from submitting.\n        e.preventDefault();\n\n        // Get the form action.\n        var form = this;\n        var action = form.action;\n\n        // Get form fields.\n        var nameField = document.querySelector('.form__field-name');\n        var emailField = document.querySelector('.form__field-email');\n        var messageField = document.querySelector('.form__field-message');\n        var buttonElem = document.querySelector('.form__field-message');\n\n        // Get the form field values (name, email, message).\n        var name = nameField.value;\n        var email = emailField.value;\n        var message = messageField.value;\n        var button = buttonElem.value;\n\n        // Add the sending class.\n        form.classList.add( sendingClass );\n\n        // Put together the request string.\n        var requestString = '?form-name=contact';\n        requestString += '&name=' + name;\n        requestString += '&email=' + email;\n        requestString += '&message=' + message;\n\n        // Build the request URL.\n        var requestUrl = action + requestString;\n\n        // Encode the URL.\n        requestUrl = encodeURI(requestUrl);\n\n        // Create a new request.\n        var request = new XMLHttpRequest();\n\n        // Open the request.\n        request.open('POST', requestUrl, true);\n\n        // When the request is loaded.\n        request.onload = function() {\n\n          // If it was successful.\n          if (request.status >= 200 && request.status < 400) {\n\n            // console.log('Success');\n\n            setTimeout( function() {\n              form.classList.add( sentClass );\n            }, sendingDelay );\n\n            setTimeout( function() {\n              form.classList.add( doneClass );\n            }, sendingDelay * 2 );\n\n            setTimeout( function() {\n              form.classList.add( thanksClass );\n\n              // Empty fields.\n              nameField.value = '';\n              emailField.value = '';\n              messageField.value = '';\n\n              // Remove the -has-text class from email field.\n              emailField.classList.remove('-has-text');\n\n            }, sendingDelay * 3 );\n\n          // If the server was contacted but submissions was unsuccessful.\n          } else {\n            // console.log('Server was reached but it returned an error');\n          }\n        };\n\n        // Handle errors.\n        request.onerror = function() {\n          // console.log('There was a connection error of some sort.');\n        };\n\n        // Send the request.\n        request.send();\n\n      }); // contactForm.addEventListener('submit', function(e)\n    } // if ( contactForm.length > 0 )\n  } // handleContactFormSubmission()\n\n\n  //\n  //  INIT\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  function init() {\n    monitorInputs();\n    monitorEmailInputs();\n    monitorSelectInputs();\n    handleContactFormSubmission();\n  }\n\n\n  //\n  //  RETURN\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  return {\n    init: init\n  };\n\n})();","\n\n//\n//  HELPERS\n//––––––––––––––––––––––––––––––––––––––––––––––––––\n\nvar Helpers = (function() {\n\n\n  //\n  //  GET VIEWPORT WIDTH\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  function getViewportWidth() {\n\n    var w = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n    return w;\n\n  } // handleTableOfContents()\n\n\n  //\n  //  INIT\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  function init() {\n    // getViewportWidth();\n  }\n\n  return {\n    // init: init,\n    getViewportWidth: getViewportWidth\n  };\n})();\n","\n\n//\n//  TOGGLE MOBILE MENU\n//––––––––––––––––––––––––––––––––––––––––––––––––––\n\nvar ToggleMobileMenu = (function() {\n\n\n  //\n  //  TOGGLE MOBILE MENU\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  function toggleMobileMenu() {\n\n    var siteNavToggle = document.querySelector('.site-nav__nav-toggle');\n\n    // If the site nav toggle exists.\n    if ( siteNavToggle ) {\n\n      // Listen for clicks on the menu toggle.\n      siteNavToggle.addEventListener('click', toggleSiteNav, false);\n    }\n\n    function toggleSiteNav() {\n\n      var siteNavOpenClass = 'site-nav-is-open';\n      var siteNavOpenFlag = false;\n\n      var bodyElem = document.querySelector('body');\n      var bodyElemClasses = bodyElem.classList;\n\n      // Loop though all classes on the body element.\n      for (var i = 0; i < bodyElemClasses.length; i++) {\n        \n        // If the menu open class is on the body.\n        if ( bodyElemClasses[i] == siteNavOpenClass ) {\n          siteNavOpenFlag = true;\n          break;\n        }\n      }\n\n      // If the menu is open.\n      if ( siteNavOpenFlag ) {\n\n        // Close the menu.\n        bodyElem.classList.remove(siteNavOpenClass);\n        // console.log('Mobile menu was closed.');\n\n      // If the menu is closed.\n      } else {\n\n        // Open the menu.\n        bodyElem.className += ' ' + siteNavOpenClass;\n        // console.log('Mobile menu was opened.');\n      }\n    }\n  }\n\n\n  //\n  //  INIT\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  function init() {\n    toggleMobileMenu();\n  }\n\n\n  //\n  //  RETURN\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  return {\n    init: init\n  };\n\n})();","\n\n//\n//  TABLE OF CONTENTS\n//––––––––––––––––––––––––––––––––––––––––––––––––––\n\nvar TableOfContents = (function() {\n\n\n  //\n  //  HANDLE TABLE OF CONTENTS\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  function handleTableOfContents() {\n\n    // console.log('handleTableOfContents()');\n\n    // Variables.\n    var toc = document.querySelector('.table-of-contents');\n    var tocToggle = document.querySelector('.table-of-contents__toggle');\n    var tocToggleClass = '-is-expanded';\n\n    // If the ToC toggle exists on the page.\n    if ( tocToggle ) {\n\n      // Listen for clicks on the ToC toggle.\n      tocToggle.addEventListener('click', function(e){\n        \n        // If the ToC is expanded.\n        if ( toc.classList.contains( tocToggleClass ) ) {\n          toc.classList.remove( tocToggleClass );\n\n        // If the ToC is not expanded.\n        } else {\n          toc.classList.add( tocToggleClass );\n        }\n      });\n    } // if ( tocToggle.length > 0 )\n  } // handleTableOfContents()\n\n\n  //\n  //  INIT\n  //––––––––––––––––––––––––––––––––––––––––––––––––––\n\n  function init() {\n    handleTableOfContents();\n  }\n\n  return {\n    init: init\n  };\n})();\n","\n\n//\n//  JAVASCRIPT\n//––––––––––––––––––––––––––––––––––––––––––––––––––\n\n(function() {\n\n  ToggleMobileMenu.init();\n  ExternalLinks.init();\n  HandleForms.init();\n  TableOfContents.init();\n  ArticleSummaryHover.init();\n  \n})();\n"]}